swagger: '2.0'
info:
  description: ''
  version: 1.0.0
  title: D4D Project API Server Swagger
  termsOfService: ''
  contact: {}
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
host: '13.125.196.191:4400'
basePath: /api/v1
tags:
  - name: User
    description: 사용자
  - name: Project
    description: 프로젝트
  - name: Skill-Code
    description: 기술코드
  - name: Message
    description: 쪽지
schemes:
  - http
paths:
  /user/login:
    post:
      tags:
        - User
      summary : 로그인
      description : 로그인
      parameters :
        - in : body
          name : body
          description : 사용자 정보
          required : true    
          schema:
            type: object
            properties:
              userId:
                type: string
                description: 사용자 고유 id
              email:
                type: string
                description: 이메일
              snsType:
                type: string
                description: 소셜로그인 종류
              nickName:
                type: string
                description: 닉네임
      responses:
        '200':
          description : 회원 정보
          schema:
            type : object
            properties :
              userId:
                type: string
                description: 사용자 고유 id
              email:
                type: string
                description: 이메일
              nickName:
                type: string
                description: 닉네임
              realName:
                type: string
                description: 실명
              snsType:
                type: string
                description: 소셜로그인 종류
              profileImage:
                type: string
                description: 프로필 이미지 URL
        '500':
          description: 로그인 실패
  /skill-code/list:
    get:
      tags:
        - Skill-Code
      summary : 기술코드 목록 조회
      description : 기술코드 목록 조회
      parameters :
        - in : query
          name : type
          description : 기술코드 종류 ("design" or "frontend" or "backend")
          required : true
      responses:
        '200':
          description : 기술코드 목록
          schema:
            type : object
            properties :
              codeType:
                type: string
                description: 기술코드 목록 구분 ("design" or "frontend" or "backend")
              items:
                type: array
                items:
                  type: object
                  description: 코드 목록
                  properties:
                    code: 
                      type: string
                      description: 기술코드
                    codeName:
                      type: string
                      description: 기술코드명
                    image:
                      type: string
                      description: 기술 로고이미지 URL
        '500':
          description: 기술코드 목록 조회 실패
  /project:
    post:
      tags:
        - Project
      summary : 프로젝트 생성
      description : 프로젝트 생성
      consumes:
        - multipart/form-data
      parameters :
        - name: attachments
          in: formData
          description: 첨부파일
          required: false
          type: file
        - name: userId
          in: formData
          description: 사용자 고유 id (=작성자)
          required: true
          type: string
        - name: title
          in: formData
          description: 제목
          required: true
          type: string
        - name: text
          in: formData
          description: 내용
          required: true
          type: string
        - name: text
          in: formData
          description: 내용
          required: true
          type: string
        - name: startDate
          in: formData
          description: 프로젝트 시작일시 (YYYY-MM-DD)
          required: true
          type: string
        - name: endDate
          in: formData
          description: 프로젝트 종료일시 (YYYY-MM-DD)
          required: true
          type: string
        - name: positionNeed
          in: formData
          description: 필요 포지션 목록 ("['ux-designer', 'ui-designer', 'frontend', 'backend']")
          required: true
          type: string
      responses:
        '200':
          description: 프로젝트 상세 정보
          schema:
            type: object
            properties:
              projectInfo:
                type: object
                description: 프로젝트 상세정보
                properties:
                  projectId:
                    type: string
                    description: 프로젝트 고유 id
                  positionNeed:
                    type: array
                    description: 필요 포지션 목록
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          description: 포지션명
                        image:
                          type: string
                          description: 포지션 아이콘이미지 URL
                  hits:
                    type: number
                    description: 조회수
                  title:
                    type: string
                    description: 제목
                  text:
                    type: string
                    description: 내용
                  startDate:
                    type: string
                    description: 프로젝트 시작날짜 (YYYY-MM-DD)
                  endDate:
                    type: string
                    description: 프로젝트 끝날짜 (YYYY-MM-DD)
                  attachments:
                    type: array
                    description: 첨부파일 목록
                    items:
                      type: object
                      properties:
                        fileName:
                          type: string
                          description: 파일명
                        downloadUrl:
                          type: string
                          description: 다운로드 URL
              writerInfo:
                type: object
                description: 작성자(PM) 정보
                properties:
                  writerId:
                    type: string
                    description: 사용자 고유 id
                  nickName:
                    type: string
                    description: 닉네임
                  area:
                    type: string
                    description: 지역
                  position:
                    type: string
                    description: 포지션
                  contact:
                    type: string
                    description: 연락처
                  skill:
                    type: object
                    properties:
                      design:
                        type: array
                        description: 디자인 기술 목록
                        items:
                          type: object
                          properties:
                            code:
                              type: string
                              description: 기술코드
                            codeName:
                              type: string
                              description: 기술코드명
                            image:
                              type: string
                              description: 기술 로고이미지
                            score:
                              type: number
                              description: 숙련도
                      frontend:
                        type: array
                        description: 프론트엔드 기술 목록
                        items:
                          type: object
                          properties:
                            code:
                              type: string
                              description: 기술코드
                            codeName:
                              type: string
                              description: 기술코드명
                            image:
                              type: string
                              description: 기술 로고이미지
                            score:
                              type: number
                              description: 숙련도
                      backend:
                        type: array
                        description: 백엔드 기술 목록
                        items:
                          type: object
                          properties:
                            code:
                              type: string
                              description: 기술코드
                            codeName:
                              type: string
                              description: 기술코드명
                            image:
                              type: string
                              description: 기술 로고이미지
                            score:
                              type: number
                              description: 숙련도
              isWriter:
                type: boolean
                description: 작성자 여부
        '500':
          description: 프로젝트 생성 실패
  /project/list/main:
    get:
      tags:
        - Project
      summary : 메인 프로젝트 목록 조회
      description : 메인 프로젝트 목록 조회
      parameters :
        - in : query
          name : page
          description : 페이지 번호 (default:1)
          required : false
        - in : query
          name : perPage
          description : 페이지당 아이템 개수 (default:3)
          required : false
      responses:
        '200':
          description : 프로젝트 목록 및 페이지 정보
          schema:
            type : object
            properties:
              projectList:
                type: array
                description: 프로젝트 목록
                items:
                  type: object
                  description: 프로젝트 정보
                  properties:
                    projectId:
                      type: string
                      description: 프로젝트 고유 id
                    title:
                      type: string
                      description: 제목
                    text:
                      type: string
                      description: 내용
                    startDate:
                      type: string
                      description: 프로젝트 시작날짜 (YYYY-MM-DD)
                    endDate:
                      type: string
                      description: 프로젝트 끝날짜 (YYYY-MM-DD)
                    hits:
                      type: number
                      description: 조회수
                    applicantCount:
                      type: number
                      description: 지원자수
                    writerId:
                      type: string
                      description: 작성자 고유 id
                    writerInfo:
                      type: object
                      description: 작성자 정보
                      properties:
                        profileImage:
                          type: string
                          description: 프로필 이미지 URL
                        nickName:
                          type: string
                          description: 닉네임
              currentPage:
                type: number
                description: 현재 페이지 번호 (1~)
              lastPage:
                type: number
                description: 마지막 페이지 번호
              totalCount:
                type: number
                description: 전체 프로젝트 개수 
        '500':
          description: 메인 프로젝트 목록 조회 실패
  /project/list/my:
    get:
      tags:
        - Project
      summary : 내가 등록한 프로젝트 목록 조회
      description : 내가 등록한 프로젝트 목록 조회
      parameters :
        - in : query
          name : userId
          description : 사용자 고유 id
          required : false
        - in : query
          name : page
          description : 페이지 번호 (default:1)
          required : false
        - in : query
          name : perPage
          description : 페이지당 아이템 개수 (default:5)
          required : false
      responses:
        '200':
          description : 프로젝트 목록 및 페이지 정보
          schema:
            type : object
            properties:
              projectList:
                type: array
                description: 프로젝트 목록
                items:
                  type: object
                  description: 프로젝트 정보
                  properties:
                    projectId:
                      type: string
                      description: 프로젝트 고유 id
                    title:
                      type: string
                      description: 제목
                    text:
                      type: string
                      description: 내용
                    startDate:
                      type: string
                      description: 프로젝트 시작날짜 (YYYY-MM-DD)
                    endDate:
                      type: string
                      description: 프로젝트 끝날짜 (YYYY-MM-DD)
                    hits:
                      type: number
                      description: 조회수
                    applicantCount:
                      type: number
                      description: 지원자수
              currentPage:
                type: number
                description: 현재 페이지 번호 (1~)
              lastPage:
                type: number
                description: 마지막 페이지 번호
              totalCount:
                type: number
                description: 전체 프로젝트 개수 
        '500':
          description: 내가 등록한 프로젝트 목록 조회 실패
  /project/list/my/apply:
    get:
      tags:
        - Project
      summary : 내가 지원한 프로젝트 목록 조회
      description : 내가 지원한 프로젝트 목록 조회
      parameters :
        - in : query
          name : userId
          description : 사용자 고유 id
          required : false
        - in : query
          name : page
          description : 페이지 번호 (default:1)
          required : false
        - in : query
          name : perPage
          description : 페이지당 아이템 개수 (default:5)
          required : false
      responses:
        '200':
          description : 프로젝트 목록 및 페이지 정보
          schema:
            type : object
            properties:
              projectList:
                type: array
                description: 프로젝트 목록
                items:
                  type: object
                  description: 프로젝트 정보
                  properties:
                    projectId:
                      type: string
                      description: 프로젝트 고유 id
                    title:
                      type: string
                      description: 제목
                    text:
                      type: string
                      description: 내용
                    startDate:
                      type: string
                      description: 프로젝트 시작날짜 (YYYY-MM-DD)
                    endDate:
                      type: string
                      description: 프로젝트 끝날짜 (YYYY-MM-DD)
                    hits:
                      type: number
                      description: 조회수
                    applicantCount:
                      type: number
                      description: 지원자수
              currentPage:
                type: number
                description: 현재 페이지 번호 (1~)
              lastPage:
                type: number
                description: 마지막 페이지 번호
              totalCount:
                type: number
                description: 전체 프로젝트 개수 
        '500':
          description: 내가 지원한 프로젝트 목록 조회 실패
  /user/myProfile:
    get:
      tags:
        - User
      summary : 나의 프로필 정보 조회
      description : 나의 프로필 정보 조회
      parameters :
        - in : query
          name : userId
          description : 사용자 고유 id
          required : true
      responses:
        '200':
          description : 나의 프로필 정보
          schema:
            type : object
            properties :
              userId:
                type: string
                description: 사용자 고유 id
              email:
                type: string
                description: 이메일
              nickName:
                type: string
                description: 닉네임
              realName:
                type: string
                description: 실명
              snsType:
                type: string
                description: 소셜로그인 구분
              profileImage:
                type: string
                description: 프로필 이미지 URL
              introduction:
                type: string
                description: 자기소개
              area:
                type: string
                description: 지역
              position:
                type: string
                description: 포지션
              contact:
                type: string
                description: 연락처
              skill:
                type: object
                properties:
                  design:
                    type: array
                    description: 디자인 기술 목록
                    items:
                      type: object
                      properties:
                        code:
                          type: string
                          description: 기술코드
                        codeName:
                          type: string
                          description: 기술코드명
                        image:
                          type: string
                          description: 기술 로고이미지
                        score:
                          type: number
                          description: 숙련도
                  frontend:
                    type: array
                    description: 프론트엔드 기술 목록
                    items:
                      type: object
                      properties:
                        code:
                          type: string
                          description: 기술코드
                        codeName:
                          type: string
                          description: 기술코드명
                        image:
                          type: string
                          description: 기술 로고이미지
                        score:
                          type: number
                          description: 숙련도
                  backend:
                    type: array
                    description: 백엔드 기술 목록
                    items:
                      type: object
                      properties:
                        code:
                          type: string
                          description: 기술코드
                        codeName:
                          type: string
                          description: 기술코드명
                        image:
                          type: string
                          description: 기술 로고이미지
                        score:
                          type: number
                          description: 숙련도
        '500':
          description: 나의 프로필 정보 조회 실패
  /message/send:
    post:
      tags:
        - Message
      summary : 쪽지 보내기
      description : 쪽지 보내기
      parameters :
        - in : body
          name : body
          description : 쪽지 정보
          required : true    
          schema:
            type: object
            properties:
              senderId:
                type: string
                description: 보낸이 고유 id
              receiverId:
                type: string
                description: 받는이 고유 id
              title:
                type: string
                description: 쪽지 제목
              content:
                type: string
                description: 쪽지 내용
      responses:
        '200':
          description : 쪽지 전송 성공
          schema:
            type : object
            properties :
              code:
                type: string
                description: "suc_send_message"
              message:
                type: string
                description: "쪽지 전송 성공"
        '500':
          description: 쪽지 전송 실패
  /message/list/received:
    get:
      tags:
        - Message
      summary : 나의 받은쪽지함 목록 조회
      description : 나의 받은쪽지함 목록 조회
      parameters :
        - in : query
          name : userId
          description : 사용자 고유 id
          required : true
        - in : query
          name : page
          description : 페이지 번호 (default:1)
          required : false
        - in : query
          name : perPage
          description : 페이지당 아이템 개수 (default:10)
          required : false
      responses:
        '200':
          description : 쪽지 목록
          schema:
            type : object
            properties :
              currentPage:
                type: number
                description: 현재 페이지 번호
              lastPage:
                type: number
                description: 마지막 페이지 번호
              totalCount:
                type: number
                description: 총 아이템 개수
              messageList:
                type: array
                description: 쪽지 목록
                items:
                  type: object
                  properties:
                    messageId:
                      type: string
                      description: 쪽지 고유 id
                    title:
                      type: string
                      description: 쪽지 제목
                    content:
                      type: string
                      description: 쪽지 내용 (10글자)
                    receiveDate:
                      type: string
                      description: 쪽지 받은 날짜
                    senderNickName:
                      type: string
                      description: 보낸이 닉네임
                    senderId:
                      type: string
                      description: 보낸이 고유 id
                    isRead:
                      type: boolean
                      description: 읽음 여부
        '500':
          description: 나의 받은쪽지함 목록 조회
  /message/list/sent:
    get:
      tags:
        - Message
      summary : 나의 보낸쪽지함 목록 조회
      description : 나의 보낸쪽지함 목록 조회
      parameters :
        - in : query
          name : userId
          description : 사용자 고유 id
          required : true
        - in : query
          name : page
          description : 페이지 번호 (default:1)
          required : false
        - in : query
          name : perPage
          description : 페이지당 아이템 개수 (default:10)
          required : false
      responses:
        '200':
          description : 쪽지 목록
          schema:
            type : object
            properties :
              currentPage:
                type: number
                description: 현재 페이지 번호
              lastPage:
                type: number
                description: 마지막 페이지 번호
              totalCount:
                type: number
                description: 총 아이템 개수
              messageList:
                type: array
                description: 쪽지 목록
                items:
                  type: object
                  properties:
                    messageId:
                      type: string
                      description: 쪽지 고유 id
                    title:
                      type: string
                      description: 쪽지 제목
                    content:
                      type: string
                      description: 쪽지 내용 (10글자)
                    sendDate:
                      type: string
                      description: 쪽지 받은 날짜
                    receiverNickName:
                      type: string
                      description: 받는이 닉네임
                    receiverId:
                      type: string
                      description: 받는이 고유 id
                    receiverIsRead:
                      type: boolean
                      description: 받는이 여부 여부
        '500':
          description: 나의 보낸쪽지함 목록 조회
  /project/lookupAll:
    post:
      tags:
        - project
      summary: 전체 프로젝트 페이지 별로 조회
      description: 전체 프로젝트 페이지 별로 조회
      parameters:
        - in: body
          name: page
          description: 페이지 번호
          type: number
          required: true
        - in: body
          name: num
          description: 페이지당 넘기고 싶은 수
          type: number
          required: true
      responses:
        '200':
          description : 반환 성공
          schema:
            type: Array
            items:
              type: Object
              properties:
                projectId:
                  type: string
                  description: Project ID
                title:
                  type: string
                  description: 제목
                text:
                  type: string
                  description: 내용
                startDate:
                  type: string
                  description: 프로젝트 시작날짜
                endDate:
                  type: string
                  description: 프로젝트 끝날짜
                hits:
                  type: number
                  description: 조회수
                applicantCount:
                  type: number
                  description: 지원자수
                writerId:
                  type: string
                  description: 작성자 고유 id
                writerInfo:
                  type: object
                  description: 작성자 정보
                  properties:
                    profileImage:
                      type: string
                      description: 프로필 이미지 URL
                    nickName:
                      type: string
                      description: 닉네임
  /project/lookupDetail:
    post:
      tags:
        - Project
      summary: Project ID로 상세 내용 조회
      description: Project ID로 상세 내용 조회
      parameters:
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
      responses:
        '200':
          decription: 반환 성공, 프로젝트 미 존재시 빈 객체 반환
          schema:
            type: object
            properties:
              _id:
                type: string
                description: Project ID
              skillCode:
                type: object
                description: PM이 원하는 기술 코드가 담긴 object
                property:
                  designer:
                    type: array
                    description: 디자인 Skill Code
                    items:
                      type: string
                  developer:
                    type: array
                    description: 개발자 Skill Code
                    items:
                      type: string
              hits:
                type: number
                description: 조회수
              writerId:
                type: string
                description: 작성자 ID
              title:
                type: string
                description: 프로젝트 제목
              text:
                type: string
                description: 프로젝트 소개
              startDt:
                type: string
                description: 프로젝트 시작 날짜
              endDt:
                type: string
                description: 프로젝트 종료 날짜
              attachments:
                type: array
                description: 첨부 파일
                items:
                  type: object
                  properties:
                    fileName:
                      type: string
                      description: 파일명
                    s3Location:
                      type: string
                      description: AWS S3 경로
                    size:
                      type: number
                      description: 파일 사이즈
              applicant:
                type: array
                description: 지원자 목록
                items:
                  type: object
                  properties:
                    userId:
                      type: string
                      description: 지원자 userId
                    join:
                      type: boolean
                      description: 지원 승인 여부
                    contents:
                      type: string
                      description: 지원 메세지
              createdDt:
                type: date
                description: 생성 일자
              updatedDt:
                type: date
                description: 업데이트 일자
              comments:
                type: array
                descripton: 댓글 목록
                items:
                  type: object
                  properties:
                    commeterId:
                      type: string
                      description: 댓글 작성자 Id
                    contents:
                      type: string
                      description: 댓글 내용
                    date:
                      type: date
                      description: 댓글 작성 일시
        '500':
          description: 요청 실패
  /project/comments:
    post:
      tags:
        - Project
      summary: 댓글 조회
      description: 댓글 조회
      parameters:
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
      responses:
        '200':
          description: 반환 성공
          schema:
            type: array
            description: 댓글 배열
            items:
              type: object
              properties:
                commenterId:
                  type: string
                  description: 댓글 작성자 ID
                contents:
                  type: string
                  description: 댓글 내용
                date:
                  type: date
                  description: 댓글 작성 일자
  /project/addComment:
    post:
      tags:
        - Project
      summary: 댓글 추가
      description: 댓글 추가
      parameters:
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
        - in: body
          name: uId
          description: User ID
          type: string
          required: true
        - in: body
          name: contents
          description: 댓글 내용
          type: string
          required: true
      responses:
        '200':
          description: 등록 성공
          schema:
            type: array
            description: 댓글 배열
            items:
              type: object
              properties:
                commenterId:
                  type: string
                  description: 댓글 작성자 ID
                contents:
                  type: string
                  description: 댓글 내용
                date:
                  type: date
                  description: 댓글 작성 일자
        '500':
          description: 요청 실패
  /project/deleteComment:
    post:
      tags:
        - Project
      summary: 댓글 삭제
      description: 댓글 삭제
      parameters:
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
        - in: body
          name: cId
          description: Comment ID
          type: string
          required: true
        - in: body
          name: uId
          description: User ID 혹은 PM ID
      responses:
        '200':
          description: 삭제 성공
          schema:
            type: object
            properties:
              success:
                type: boolean
                description: 삭제 성공 여부
              removedByPM:
                type: boolean
                description: PM에 의한 삭제 여부
        '500':
          description: 요청 실패
  /project/apply:
    post:
      tags:
        - Project
      summery: 프로젝트 지원
      description: 프로젝트 지원
      parameters:
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
        - in: body
          name: uId
          description: User ID
          type: string
          required: true
        - in: body
          name: contents
          description: 댓글 내용
          type: string
          required: true
      responses:
        '200':
          description: 요청 성공
          schema:
            type: object
            description: 지원 성공 여부가 담긴 객체
              applySuccess:
                type: boolean
                description: 지원 성공 여부, false는 중복 지원 시 반환
        '500':
          description: 요청 실패
  /project/applyCancel:
    post:
      tags:
        - Project
      summary: 지원 취소
      description: 지원 취소
      parameters:
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
        - in: body
          name: uId
          description: User ID
          type: string
          required: true
      responses:
        '200':
          description: 요청 성공
          schema:
            type: object
            description: 삭제 성공 여부가 담긴 객체
            properties:
              DeleteSuccess:
                type: boolean
                description: 삭제 성공 여부, false는 이미 존재하지 않는 지원 목록일시
        '500':
          description: 요청 실패
  /project/applyList:
    post:
      tags:
        - Project
      summary: 지원 목록 반환
      description: 지원 목록 반환
      parameters:
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
        - in: body
          name: PMId
          description: Project Master ID
          type: string
          required: true
      responses:
        '200':
          description: 요청 성공
          schema:
            type: array
            items:
              type: object
              properties:
                _id:
                  type: string
                  description: 요청 객체 아이디
                userId:
                  type: string
                  description: 유저 아이디
                join:
                  type: boolean
                  description: 지원 승인 여부
                contents:
                  type: string
                  description: 지원 동기
        '500':
          description: 요청 실패
  /project/applyToggle:
    post:
      tags:
        - Project
      summary: 지원 승인여라 토글(true to false, false to true)
      description: 지원 승인여부 토글(true to false, false to true)
      parameters:
        - in: body
          name: uId
          descripion: 지원 승인 여부를 토글하기 위해서 사용
          type: string
          required: true
        - in: body
          name: pId
          description: Project ID
          type: string
          required: true
        - in: body
          name: PMId
          description: Project Master ID
          type: string
          required: true
      responses:
        '200':
          description: 요청 성공
          schema:
            type: object
            description: 승인 여부에 대한 정보가 담겨있는 객체
            properties:
              join:
                type: boolean
                description: true일시, false가 true로 변한 것, false일시, false가 true로 변한 것